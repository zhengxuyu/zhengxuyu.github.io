<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- FOUC Prevention: set theme before any rendering -->
<script>
  (function() {
    var saved = localStorage.getItem('theme');
    if (saved === 'dark') {
      document.documentElement.setAttribute('data-theme', 'dark');
    } else if (saved === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
    }
    // 'auto' or null: no attribute, let CSS media query handle it
  })();
</script>

<!-- Google Search Console Verification -->
<meta name="google-site-verification" content="5_G9Ur3Oj5gPykXrJDkk-yIhoOHS4QCX2tzLjSV04ko">

<!-- SEO Meta Tags -->
{% assign seo_description = page.description | default: page.tldr | default: site.description | strip_html | truncate: 160 %}
<meta name="description" content="{{ seo_description }}">
<meta name="keywords" content="{{ page.keywords | default: 'Zhengxu Yu, 余正旭, Huawei, AI Agents, Agentic RL, Large Language Models, Machine Learning, AI, Research' }}">
<meta name="author" content="{{ site.author }}">
<meta name="robots" content="index, follow">
<meta name="language" content="zh-CN">
<meta name="geo.region" content="GB">
<meta name="geo.placename" content="London, United Kingdom">
<meta name="distribution" content="global">
<meta name="rating" content="general">
<meta name="revisit-after" content="7 days">
<meta name="googlebot" content="index, follow">
<meta name="bingbot" content="index, follow">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="{% if page.layout == 'post' or page.layout == 'blog-post' %}article{% else %}website{% endif %}">
<meta property="og:url" content="{{ site.url }}{{ page.url }}">
<meta property="og:title" content="{{ page.title | default: site.title }}">
<meta property="og:description" content="{{ seo_description }}">
<meta property="og:image" content="{{ site.url }}/assets/ZhengxuYu.jpeg">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="zh_CN">
<meta property="og:locale:alternate" content="en_US">
{% if page.layout == 'post' or page.layout == 'blog-post' %}
<meta property="article:author" content="{{ site.author }}">
<meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
<meta property="article:modified_time" content="{{ page.last_modified_at | date_to_xmlschema | default: page.date | date_to_xmlschema }}">
<meta property="article:section" content="Research">
<meta property="article:tag" content="{{ page.tags | join: ', ' | default: 'Machine Learning, AI, Research' }}">
{% endif %}

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="{{ site.url }}{{ page.url }}">
<meta property="twitter:title" content="{{ page.title | default: site.title }}">
<meta property="twitter:description" content="{{ seo_description }}">
<meta property="twitter:image" content="{{ site.url }}/assets/ZhengxuYu.jpeg">
<meta property="twitter:site" content="@{{ site.twitter_username | default: 'ZhengxuYu' }}">
<meta property="twitter:creator" content="@{{ site.twitter_username | default: 'ZhengxuYu' }}">

<!-- Canonical URL -->
<link rel="canonical" href="{{ site.url }}{{ page.url }}">

<!-- RSS Feed -->
<link rel="alternate" type="application/rss+xml" title="{{ site.title }} RSS Feed" href="{{ site.url }}/feed.xml">

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

<!-- Preconnect to external domains for performance -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Google Analytics -->
{%- if site.google_analytics -%}
<script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics[0] }}"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '{{ site.google_analytics[0] }}');
</script>
{%- endif -%}

<!-- Umami Analytics -->
{%- if site.umami.enabled -%}
<script defer src="{{ site.umami.script_url }}" data-website-id="{{ site.umami.website_id }}"></script>
{%- endif -%}

<!-- 不蒜子访问计数 -->
{%- if site.busuanzi -%}
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
{%- endif -%}

<!-- Fonts and Styles -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">
<link rel="stylesheet" href="{{ "/assets/css/custom-layout.css" | relative_url }}">

<!-- MathJax Configuration -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      ignoreHtmlClass: 'tex2jax_ignore',
      processHtmlClass: 'tex2jax_process'
    }
  };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Include structured data -->
{% include structured-data.html %}
{% include breadcrumb-structured-data.html %}

{% if page.title %}<title>{{ page.title }} | {{ site.title }}</title>{% else %}<title>{{ site.title }}</title>{% endif %}
